<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>快速排序</title>
    <style>

    </style>
</head>

<body>
</body>

</html>


<script>



    // const obj = {
    //     a: {
    //         b: 1,
    //         c: 2,
    //         d: {
    //             e: 5
    //         }
    //     },
    //     b: [1, 3, { a: 2, b: 3 }],
    //     c: 3
    // }

    // function myFlatten(obj, prefix, idx, result) {
    //     Object.keys(obj).map((e) => {
    //         if (obj[e].constructor !== Object && obj[e].constructor !== Array) {
    //             if (idx) {
    //                 console.log(prefix + "[" + idx + "]" + "." + e + ":" + obj[e])
    //                 result[prefix + "[" + idx + "]" + "." + e] = obj[e]
    //             }
    //             if (prefix && !idx) {
    //                 console.log(prefix + "." + e + ":" + obj[e])
    //                 result[prefix + "." + e] = obj[e]
    //             }
    //             if (!prefix && !idx) {
    //                 console.log(e + ":" + obj[e])
    //                 result[e] = obj[e]
    //             }
    //             return
    //         }
    //         if (obj[e].constructor == Object) {
    //             myFlatten(obj[e], prefix ? prefix + "." + e : e, null, result)
    //         } else if (obj[e].constructor == Array) {
    //             obj[e].forEach((arrE, index) => {
    //                 if (arrE.constructor == Object) {
    //                     myFlatten(arrE, prefix ? prefix + "." + e : e, index, result)
    //                 } else {
    //                     console.log(prefix ? prefix + "." + e : e + "[" + index + "]" + ":" + arrE)
    //                     result[prefix ? prefix + "." + e : e + "[" + index + "]"] = arrE
    //                 }
    //             })
    //         }

    //     })
    // }
    // function all(obj) {
    //     let result = {}
    //     myFlatten(obj, null, null, result)
    //     return result
    // }
    console.log(all(obj))
        const a=[1,2,3]
        function objectFlat(obj = '') {
            const res = {}
            function flat(item, preKey = '') {
                Object.entries(item).forEach(([key, value]) => {
                    let newKey = key
                    if (Array.isArray(item)) {
                        newKey = preKey ? `${preKey}[${key}]` : key
                    } else {
                        newKey = preKey ? `${preKey}.${key}` : key
                    }
                    if (value && typeof value === 'object') {
                        flat(value, newKey)
                    } else {
                        res[newKey] = value
                    }
                });
            }
            flat(obj)
            return res
        }
      console.log(objectFlat(obj)) 


</script>